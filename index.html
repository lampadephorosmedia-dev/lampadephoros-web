<!-- FILE: index.html -->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lampadēphóros</title>
  <meta name="description" content="Lampadēphóros – Der Fackelträger. Automatische Sprachwahl." />
</head>

<body>
  <p>Weiterleitung… <a id="fallbackLink" href="start.html?lang=de">Start</a>.</p>

  <script>
  (function () {
    const DEFAULT = "de";

    const supported = new Set([
      "de","fr","en","pt","it","es","pl","ru","nl","ro","uk","hr","bs","sr",
      "ar","ur","fa","tr",
      "zh","hi","bn","id","fil","ja","ko","vi",
      "ms","ta","ku"
    ]);

    const prefs = (navigator.languages && navigator.languages.length)
      ? navigator.languages
      : [navigator.language || "de"];

    const base = (tag) => String(tag || "").toLowerCase().split("-")[0];

    let chosen = DEFAULT;
    for (const tag of prefs) {
      const b = base(tag);
      if (supported.has(b)) { chosen = b; break; }
    }

    const target = `start.html?lang=${encodeURIComponent(chosen)}`;

    const a = document.getElementById("fallbackLink");
    if (a) a.href = target;

    window.location.replace(target);
  })();
  </script>

  <noscript>
    <p>
      JavaScript ist deaktiviert. Bitte öffne manuell:
      <a href="start.html?lang=de">Deutsch</a> ·
      <a href="start.html?lang=fr">Français</a> ·
      <a href="start.html?lang=en">English</a>
    </p>
  </noscript>
</body>
</html>
